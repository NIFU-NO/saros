<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract Text Summary from Categorical Mesos Plots — txt_from_cat_mesos_plots • saros</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract Text Summary from Categorical Mesos Plots — txt_from_cat_mesos_plots"><meta name="description" content="Generates text summaries comparing two groups from categorical mesos plot data.
The function identifies meaningful differences between groups based on proportions
of respondents selecting specific categories and produces narrative text descriptions."><meta property="og:description" content="Generates text summaries comparing two groups from categorical mesos plot data.
The function identifies meaningful differences between groups based on proportions
of respondents selecting specific categories and produces narrative text descriptions."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">saros</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/for_chapter_author.html">UNKNOWN TITLE</a></li>
    <li><a class="dropdown-item" href="../articles/for_developers.html">UNKNOWN TITLE</a></li>
    <li><a class="dropdown-item" href="../articles/for_readers.html">UNKNOWN TITLE</a></li>
    <li><a class="dropdown-item" href="../articles/saros_name.html">UNKNOWN TITLE</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NIFU-NO/saros/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Extract Text Summary from Categorical Mesos Plots</h1>
      <small class="dont-index">Source: <a href="https://github.com/NIFU-NO/saros/blob/main/R/txt_from_cat_mesos_plots.R" class="external-link"><code>R/txt_from_cat_mesos_plots.R</code></a></small>
      <div class="d-none name"><code>txt_from_cat_mesos_plots.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates text summaries comparing two groups from categorical mesos plot data.
The function identifies meaningful differences between groups based on proportions
of respondents selecting specific categories and produces narrative text descriptions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">txt_from_cat_mesos_plots</span><span class="op">(</span></span>
<span>  <span class="va">plots</span>,</span>
<span>  min_prop_diff <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  n_highest_categories <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  flip_to_lowest_categories <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  selected_categories_last_split <span class="op">=</span> <span class="st">" or "</span>,</span>
<span>  fallback_string <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  glue_str_pos <span class="op">=</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"For {var}, the target group has a higher proportion of respondents "</span>,</span>
<span>    <span class="st">"({group_1}) than all others ({group_2}) who answered {selected_categories}."</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"More respondents answered {selected_categories} for {var} in the "</span>,</span>
<span>    <span class="st">"target group ({group_1}) than in other groups ({group_2})."</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"The statement {var} shows {selected_categories} responses are more "</span>,</span>
<span>    <span class="st">"common in the target group ({group_1}) compared to others ({group_2})."</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  glue_str_neg <span class="op">=</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"For {var}, the target group has a lower proportion of respondents "</span>,</span>
<span>    <span class="st">"({group_1}) than all others ({group_2}) who answered {selected_categories}."</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Fewer respondents answered {selected_categories} for {var} in the "</span>,</span>
<span>    <span class="st">"target group ({group_1}) than in other groups ({group_2})."</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"The statement {var} shows {selected_categories} responses are less "</span>,</span>
<span>    <span class="st">"common in the target group ({group_1}) compared to others ({group_2})."</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-plots">plots<a class="anchor" aria-label="anchor" href="#arg-plots"></a></dt>
<dd><p>A list of two plot objects (or data frames with plot data) to compare.
Each must contain columns: <code>.variable_label</code>, <code>.category</code>, <code>.category_order</code>, <code>.proportion</code>.</p></dd>


<dt id="arg-min-prop-diff">min_prop_diff<a class="anchor" aria-label="anchor" href="#arg-min-prop-diff"></a></dt>
<dd><p>Numeric. Minimum proportion difference (default 0.10) required
between groups to generate text. Differences below this threshold are ignored.</p></dd>


<dt id="arg-n-highest-categories">n_highest_categories<a class="anchor" aria-label="anchor" href="#arg-n-highest-categories"></a></dt>
<dd><p>Integer. Number of top categories to include in the
comparison (default 1). Categories are selected based on <code>.category_order</code>.</p></dd>


<dt id="arg-flip-to-lowest-categories">flip_to_lowest_categories<a class="anchor" aria-label="anchor" href="#arg-flip-to-lowest-categories"></a></dt>
<dd><p>Logical. If TRUE, compare lowest categories instead
of highest (default FALSE).</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>Integer. Number of decimal places for rounding proportions (default 2).</p></dd>


<dt id="arg-selected-categories-last-split">selected_categories_last_split<a class="anchor" aria-label="anchor" href="#arg-selected-categories-last-split"></a></dt>
<dd><p>Character. Separator for the last item when
listing multiple categories (default " or ").</p></dd>


<dt id="arg-fallback-string">fallback_string<a class="anchor" aria-label="anchor" href="#arg-fallback-string"></a></dt>
<dd><p>Character. String to return when validation fails (default <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>).</p></dd>


<dt id="arg-glue-str-pos">glue_str_pos<a class="anchor" aria-label="anchor" href="#arg-glue-str-pos"></a></dt>
<dd><p>Character vector. Templates for positive differences (group_1 &gt; group_2).
Available placeholders: <code>{var}</code>, <code>{group_1}</code>, <code>{group_2}</code>, <code>{selected_categories}</code>.</p></dd>


<dt id="arg-glue-str-neg">glue_str_neg<a class="anchor" aria-label="anchor" href="#arg-glue-str-neg"></a></dt>
<dd><p>Character vector. Templates for negative differences (group_2 &gt; group_1).
Same placeholders as <code>glue_str_pos</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A character vector of text summaries, one per variable with meaningful differences.
Returns empty character vector if no plots provided or no meaningful differences found.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function compares proportions between two groups for each variable in the plot data.
One template is randomly selected from the provided vectors for variety in output text.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Create sample plot data</span></span></span>
<span class="r-in"><span><span class="va">plot_data_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  .variable_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Job satisfaction"</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  .category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span><span class="op">)</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  .category_order <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>  .proportion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">plot_data_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  .variable_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Job satisfaction"</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  .category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span><span class="op">)</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  .category_order <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>  .proportion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.4</span>, <span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">plot_data_1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">plot_data_2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate text summaries</span></span></span>
<span class="r-in"><span><span class="fu">txt_from_cat_mesos_plots</span><span class="op">(</span><span class="va">plots</span>, min_prop_diff <span class="op">=</span> <span class="fl">0.10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare lowest categories instead</span></span></span>
<span class="r-in"><span><span class="fu">txt_from_cat_mesos_plots</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">plots</span>,</span></span>
<span class="r-in"><span>  flip_to_lowest_categories <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  min_prop_diff <span class="op">=</span> <span class="fl">0.05</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stephan Daus, Nordic Institute for The Studies of Innovation, Research and Education (NIFU), Kristiania University College.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

