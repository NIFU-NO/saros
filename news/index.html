<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • saros</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">saros</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/for_chapter_author.html">UNKNOWN TITLE</a></li>
    <li><a class="dropdown-item" href="../articles/for_developers.html">UNKNOWN TITLE</a></li>
    <li><a class="dropdown-item" href="../articles/for_readers.html">UNKNOWN TITLE</a></li>
    <li><a class="dropdown-item" href="../articles/saros_name.html">UNKNOWN TITLE</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NIFU-NO/saros/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/NIFU-NO/saros/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.0" id="saros-160">saros 1.6.0<a class="anchor" aria-label="anchor" href="#saros-160"></a></h2>
<ul><li>Sorting: Independent-variable ordering is now computed per dependent variable, allowing indep order to vary per dep; descend_indep now consistently reverses indep order across tables and plots; plots use centralized .indep_order when indep is on the x-axis; ordered indep factors take precedence over sort_indep_by (reversed only when descend_indep=TRUE); legends preserve unused response levels in .category</li>
<li>Using <code>air</code> for consistent code formatting</li>
<li>Feature: makeme() has new output type = “int_plot_html” for interactive interval plots with violin and box plots</li>
<li>Feature: Added support for <code>data_label = "mean"</code> and <code>data_label = "median"</code> in <code><a href="../reference/makeme.html">makeme()</a></code> for <code>type = "cat_*_html"</code> outputs (addresses issue <a href="https://github.com/NIFU-NO/saros/issues/460" class="external-link">#460</a>)</li>
<li>Feature: Added <code>data_label_position</code> argument to <code><a href="../reference/makeme.html">makeme()</a></code> allowing data labels to be positioned at “center”, “bottom”, “top”, or “above” bars in categorical plots (addresses issue <a href="https://github.com/NIFU-NO/saros/issues/365" class="external-link">#365</a>)</li>
<li>Feature: Added <code>.onUnload()</code> function to clean up global options when package is unloaded, preventing option pollution in user’s R session</li>
<li>Feature: Enhanced <code>chr_table_html</code> to support multiple independent variables for displaying background context with open-ended text responses. Now allows researchers to show demographic or other contextual information alongside character survey responses</li>
<li>Refactor: Modularized tabular I/O functionality - renamed <code>pretty_tabular.R</code> to <code>tabular_write.R</code> and extracted <code><a href="../reference/tabular_read.html">tabular_read()</a></code> function into separate file.</li>
<li>Refactor: Split <code><a href="../reference/post_process_makeme_data.html">post_process_makeme_data()</a></code> into focused single-responsibility functions: <code><a href="../reference/process_indep_factor_levels.html">process_indep_factor_levels()</a></code> for general factor reversal and <code><a href="../reference/process_binary_category_colors.html">process_binary_category_colors()</a></code> for cat_plot_html-specific binary category processing. Improves architectural clarity and maintainability</li>
<li>Major change: <code><a href="../reference/makeme.html">makeme()</a></code> returns an empty data.frame instead of <code>NULL</code> if not plot or table can be created, simplifying downstream code (e.g. <code>gt::gt()</code> fails if served <code>NULL</code>).</li>
<li>Major change: Resolved issue <a href="https://github.com/NIFU-NO/saros/issues/372" class="external-link">#372</a> - <code>descend</code> parameter now works correctly with ordered factors while preserving their inherent level ordering. Ordered factors maintain their natural order as the base, but <code>descend</code> can reverse the display order</li>
<li>Refactor: Substantially modularized internal implementation of <code><a href="../reference/makeme.html">makeme()</a></code> into focused helper functions (argument setup, crowd processing, output assembly, validation). Improves readability, testability (+ new helper tests), and robustness without changing public API (closes <a href="https://github.com/NIFU-NO/saros/issues/368" class="external-link">#368</a>)</li>
<li>Enhancement: Completely rewrote the <code>.spread</code> algorithm in <code><a href="../reference/subset_vector.html">subset_vector()</a></code> for better spread maximization using evenly spaced positions</li>
<li>Updated documentation reference from <code><a href="https://ggplot2.tidyverse.org/reference/get_theme.html" class="external-link">ggplot2::theme_set()</a></code> to <code><a href="https://ggplot2.tidyverse.org/reference/get_theme.html" class="external-link">ggplot2::set_theme()</a></code> due to ggplot 4.0.0.</li>
<li>Fix: <strong>CRITICAL</strong> - Resolved bug in <code><a href="../reference/makeme.html">makeme()</a></code> where combinations of valid factor variables with all-NA factor variables incorrectly threw “mix of categorical and continuous variables” error. Variable type checking now uses filtered variable lists instead of original lists, preventing premature type validation errors</li>
<li>Fix: Resolved faceting issue in <code>int_plot_html</code> where <code>label_separator = NULL</code> with independent variables caused violin/boxplot and label geoms to appear in separate facets due to inconsistent string wrapping between main plot data and descriptive statistics</li>
<li>Fix: Removed unnecessary “multiple main questions” warning when using <code>label_separator = NULL</code>, as having different main questions is expected behavior in this context</li>
<li>Fix: Corrected double NA check logic in <code>check_bool()</code> function - removed redundant condition that made validation always pass for NA values</li>
<li>Fix: Improved NULL and NA handling in <code>glue_together_range()</code> to prevent edge case failures with empty or invalid data ranges</li>
<li>Fix: Resolved issue <a href="https://github.com/NIFU-NO/saros/issues/464" class="external-link">#464</a> - <code><a href="../reference/makeme.html">makeme()</a></code> failures for sigtest_table when dep and indep variables overlap. Now automatically excludes indep variables from dep selection to prevent conflicts</li>
<li>Fix: Improved robustness of <code>check_no_duplicated_label_suffix()</code> to handle empty data frames and missing columns gracefully</li>
<li>Fix: Enhanced <code>check_sort_by()</code> validation to properly handle empty character vectors with clear error messages</li>
<li>Fix: Improved <code>keep_subitem()</code> to handle character inputs and use factor levels for better NA handling</li>
<li>Fix: Simplified <code><a href="../reference/arrange_table_data.html">arrange_table_data()</a></code> sorting logic for better reliability</li>
<li>Enhancement: <strong>PERFORMANCE</strong> - Optimized <code><a href="../reference/makeme.html">makeme()</a></code> examples for 73.8% faster execution (6.6s → 1.7s total). Reduced variable counts and crowd configurations while maintaining educational value. Examples now run efficiently for R package documentation and CRAN checks</li>
<li>Enhancement: Updated <code><a href="../reference/fig_height_h_barchart2.html">fig_height_h_barchart2()</a></code> example for consistency with optimized examples</li>
<li>Dev: Added comprehensive test coverage for <code><a href="../reference/makeme.html">makeme()</a></code> helper functions with full roxygen2 documentation and <a href="https://github.com/keywords" class="external-link">@keywords</a> internal annotation for internal API clarity</li>
<li>Dev: Added comprehensive visual regression testing for <code>int_plot_html</code> using vdiffr snapshot tests covering various scenarios including multiple variables, independent variables, inverse layouts, and error handling</li>
<li>Dev: Added comprehensive test coverage for utility validation functions</li>
<li>Dev: Added comprehensive unit tests for <code><a href="../reference/makeme.html">makeme()</a></code> variable type checking edge cases including all-NA variables, multiple scenarios, and disabled filtering</li>
<li>Dev: Added VS Code configuration for improved development experience</li>
<li>Dev: Added <code>survey</code> package to Suggests for enhanced testing capabilities</li>
<li>Dev: Updated build ignore patterns for coverage reports and library files</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5.4" id="saros-154">saros 1.5.4<a class="anchor" aria-label="anchor" href="#saros-154"></a></h2><p class="text-muted">CRAN release: 2025-06-04</p>
<ul><li>Fix: Corrected error introduced in 1.5.3</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5.3" id="saros-153">saros 1.5.3<a class="anchor" aria-label="anchor" href="#saros-153"></a></h2><p class="text-muted">CRAN release: 2025-06-02</p>
<ul><li>Fix: <code>makeme</code> now handles arguments in parent frame scopes correctly.</li>
<li>Fix: internal function <code>get_common_levels</code> now works with no provided <code>col_pos</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5.1" id="saros-151">saros 1.5.1<a class="anchor" aria-label="anchor" href="#saros-151"></a></h2><p class="text-muted">CRAN release: 2025-02-12</p>
<ul><li>Feature: Added <code>".percentage"</code> as valid (sorting) column</li>
<li>Feature: <code>cat_table_html</code> returns NULL if nothing to display</li>
<li>Fix: <code>scale_x_reordered</code> now only sorts when needed</li>
<li>Fix: <code>cat_table_html</code> takes showNA properly</li>
<li>Minor: refactoring of <code>cat_plot_html</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5.0" id="saros-150">saros 1.5.0<a class="anchor" aria-label="anchor" href="#saros-150"></a></h2><p class="text-muted">CRAN release: 2025-01-10</p>
<div class="section level3">
<h3 id="major-changes-1-5-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-1-5-0"></a></h3>
<ul><li>Lots of settings for <code><a href="../reference/makeme.html">makeme()</a></code> useful for creating plots comparing a group with all other groups combined, or everyone.</li>
<li>
<code><a href="../reference/fig_height_h_barchart.html">fig_height_h_barchart()</a></code> finally works adequately for 90 percent of figure combinations.</li>
<li>Global settings inheritance for <code><a href="../reference/makeme.html">makeme()</a></code>, <code><a href="../reference/make_link.html">make_link()</a></code>, <code><a href="../reference/girafe.html">girafe()</a></code>, <code><a href="../reference/n_range.html">n_range()</a></code>, <code><a href="../reference/n_range2.html">n_range2()</a></code>
</li>
<li>New function <code>makeme(type="int_plot_html")</code> for violin plots</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-1-5-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-1-5-0"></a></h3>
<ul><li>
<code>makeme(type="cat_plot_html")</code> no longer shows a line one the y axis for single variable plots.</li>
<li>Refactored <code>crosstable.data.frame()</code> and <code>crosstable.survey()</code> methods.</li>
<li>Many more tests.</li>
<li>Countless bugfixes.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.0" id="saros-120">saros 1.2.0<a class="anchor" aria-label="anchor" href="#saros-120"></a></h2><p class="text-muted">CRAN release: 2024-09-03</p>
<div class="section level3">
<h3 id="major-changes-1-2-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-1-2-0"></a></h3>
<ul><li>
<code>embed_*</code>-functions are replaced by <code>makeme(type="cat_plot")</code> etc
<ul><li>
<code><a href="../reference/makeme.html">makeme()</a></code> takes S3-methods which eases expansions.</li>
<li>
<code>embed_*</code> are thus lifecycle soft-deprecated.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-1-2-0">New features<a class="anchor" aria-label="anchor" href="#new-features-1-2-0"></a></h3>
<ul><li>
<code><a href="../reference/n_range.html">n_range()</a></code> gives the n_range for a given dataset, dependent and independent variables.</li>
<li>
<code><a href="../reference/n_range2.html">n_range2()</a></code> same as <code><a href="../reference/n_range.html">n_range()</a></code> but takes a <code><a href="../reference/makeme.html">makeme()</a></code>-object for convenience.</li>
<li>
<code><a href="../reference/make_link.html">make_link()</a></code> for generating downloadable figures, tables, data or anything else, on the spot.</li>
<li>
<code><a href="../reference/ggsaver.html">ggsaver()</a></code> is a minor wrapper to ease using make_link with ggplot2::ggsave().</li>
<li>
<code><a href="../reference/fig_height_h_barchart.html">fig_height_h_barchart()</a></code> estimates the optimal figure height for a horizontal barchart.</li>
<li>
<code><a href="../reference/fig_height_h_barchart2.html">fig_height_h_barchart2()</a></code> same as above, but takes a makeme()-object for convenience.</li>
<li>
<code>makeme(type="cat_plot_html")</code> allows sorting within each dependent variable-by-independent variable (facet-sort)</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-1-2-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-1-2-0"></a></h3>
<ul><li>Too many to list, but see saros 1.1.0 for some of them.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="saros-110">saros 1.1.0<a class="anchor" aria-label="anchor" href="#saros-110"></a></h2>
<!-- NEWS.md is maintained by https://cynkra.github.io/fledge, do not edit -->
<p>-feat: Removed colour_palette (<a href="https://github.com/NIFU-NO/saros/issues/328" class="external-link">#328</a>) -fix: Argument <code>chapter_qmd_start_section_filepath</code> now has effect. (<a href="https://github.com/NIFU-NO/saros/issues/321" class="external-link">#321</a>) -fix: simplified <code>create_email_credentials()</code> (<a href="https://github.com/NIFU-NO/saros/issues/305" class="external-link">#305</a>) -fix: pkgdown for recode_checkbox_sets (<a href="https://github.com/NIFU-NO/saros/issues/304" class="external-link">#304</a>) -fix: cat_*_plot now displays keys for unused categories in legend (<a href="https://github.com/NIFU-NO/saros/issues/301" class="external-link">#301</a>) -fix: <code>single_y_bivariates_if_deps_above()</code> no longer affects univariates (<a href="https://github.com/NIFU-NO/saros/issues/300" class="external-link">#300</a>) -fix: More robust estimate_plot_height if dep only has one NA category (<a href="https://github.com/NIFU-NO/saros/issues/299" class="external-link">#299</a>) -fix: Significance test now works in edge cases (<a href="https://github.com/NIFU-NO/saros/issues/297" class="external-link">#297</a>) -feat: chr_table now ignores NA and empty strings. (<a href="https://github.com/NIFU-NO/saros/issues/296" class="external-link">#296</a>) -fix: <code>serialized_format</code> now actually supports <a href="https://github.com/qsbase/qs" class="external-link">qs</a>, if installed. (<a href="https://github.com/NIFU-NO/saros/issues/293" class="external-link">#293</a>) -feat: Added default to replace_heading_for_group (<a href="https://github.com/NIFU-NO/saros/issues/291" class="external-link">#291</a>) -feat: Removed flexi-app (<a href="https://github.com/NIFU-NO/saros/issues/289" class="external-link">#289</a>) -feat: Removed unnecessary rendering-assistance tools. (<a href="https://github.com/NIFU-NO/saros/issues/287" class="external-link">#287</a>) -feat: <code>gen_qmd_index</code> has now been refactored (<a href="https://github.com/NIFU-NO/saros/issues/286" class="external-link">#286</a>) - simplified to <code>gen_qmd_file</code>, which better handles index and report - Also allows separate qmd_snippets at start and end for index and - Extract formats from report_header_yaml which is used to create links -fix: insert_obj_in_qmd now uses conv_to_valid_obj_name() again (<a href="https://github.com/NIFU-NO/saros/issues/284" class="external-link">#284</a>) -feat: Removed saving png files as it is rarely used. (<a href="https://github.com/NIFU-NO/saros/issues/283" class="external-link">#283</a>) -fix: <code>crosstable3()</code> now handles character vectors. (<a href="https://github.com/NIFU-NO/saros/issues/278" class="external-link">#278</a>)</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.5" id="saros-105">saros 1.0.5<a class="anchor" aria-label="anchor" href="#saros-105"></a></h2>
<!-- NEWS.md is maintained by https://cynkra.github.io/fledge, do not edit -->
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.3" id="saros-103">saros 1.0.3<a class="anchor" aria-label="anchor" href="#saros-103"></a></h2>
<ul><li>Added more arguments for plot text sizes, with more useful defaults for Word and HTML layouts.</li>
<li>
<code>attach_qualtrics_labels</code> is now more flexible.</li>
<li>Minor fix in <code>sanitize_labels</code>.</li>
<li>Internal change to accommodate ggplot2 3.5.0.</li>
<li>Improved performance for argument validation checks.</li>
<li>
<code>setup_access_restrictions</code> now accepts NULL password input.</li>
<li>
<code>setup_access_restrictions</code> now can warn instead of error if <code>rel_parent_path</code> does not exist.</li>
<li>
<code>sort_by</code> now correctly sorts with <code>descend=TRUE</code> for “.upper”, etc.</li>
<li>Fixed <code>list_available_element_types</code>
</li>
<li>Set one long-running test for <code>draft_report</code> to only run on maintainer’s local computer.</li>
<li>
<code>sanitize_labels</code> now has option to translate ASCII HTML-escaped characters to unicode.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="saros-101">saros 1.0.1<a class="anchor" aria-label="anchor" href="#saros-101"></a></h2><p class="text-muted">CRAN release: 2024-01-26</p>
<ul><li>Minor fixes for CRAN manual review</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="saros-100">saros 1.0.0<a class="anchor" aria-label="anchor" href="#saros-100"></a></h2>
<ul><li>Submitted to CRAN</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.1" id="saros-091">saros 0.9.1<a class="anchor" aria-label="anchor" href="#saros-091"></a></h2>
<ul><li>First version ready</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stephan Daus, Nordic Institute for The Studies of Innovation, Research and Education (NIFU), Kristiania University College.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

